<div class="main-container">

  <!-- COLONNE GAUCHE : Détails de la mission -->
  <div class="colonne_gauche" *ngIf="selectedMission as mission">
    <div class="mission-info-box">
      <h2>Détails de la mission {{ mission.id }}</h2>
      <p><strong>Description :</strong> {{ mission.description }}</p>
      <p><strong>Crédit mission :</strong> {{ mission.creditMission }}</p>
      <p><strong>Difficulté :</strong> {{ mission.difficulte }}</p>
      <p><strong>Niveau de danger :</strong> {{ mission.niveauDanger }}</p>
      <p><strong>Statut :</strong> {{ mission.statut }}</p>
      <p><strong>Ville :</strong> {{ mission.ville }}</p>
      <p><strong>Héros :</strong> {{ selectedHeroAlias || 'Aucun héros affecté' }}</p>
    </div>
  </div>

  <!-- COLONNE CENTRE : Liste des missions + barre de navigation -->
  <div class="colonne_centre">

    <h1 class="page-title">
      Liste des missions
      <span style="font-size: 14px; color: grey;">
        (Nombre de missions : {{ missions.length }})
      </span>
    </h1>

    <!-- BARRE DE NAVIGATION / FILTRE -->
    <div class="mission-legende">
      <label class="legende-item">
        <input type="checkbox" class="legende-carre" [(ngModel)]="showDisponibles" />
        <span>Disponibles</span>
      </label>

      <label class="legende-item">
        <input type="checkbox" class="legende-carre" [(ngModel)]="showEnCours" />
        <span>En cours</span>
      </label>

      <label class="legende-item">
        <input type="checkbox" class="legende-carre" [(ngModel)]="showTerminees" />
        <span>Terminées</span>
      </label>
    </div>

    <!-- LISTE DES MISSIONS -->
    <div class="liste-missions">
      <div class="mission-card" *ngFor="let mission of filtrerMissions()">
        <button class="mission-id" (click)="selectMission(mission)">
          Mission {{ mission.id }}
        </button>
        <div class="mission-infos">
          {{ mission.description }} — {{ mission.statut }}
        </div>
      </div>

      <div *ngIf="filtrerMissions().length === 0" class="empty-message">
        Aucune mission ne correspond aux filtres. <br>
        <small *ngIf="missions.length === 0" style="color: red;">
          (Attention : Aucune donnée reçue du serveur !)
        </small>
      </div>
    </div>

  </div>

  <!-- COLONNE DROITE : vide pour l'instant -->
  <div class="colonne_droite">
  </div>

</div>
