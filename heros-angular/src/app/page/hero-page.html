
<div *ngIf="isAdmin; else chefTemplate" class="container-fluid">

  <div class="row">
    <!-- COLONNE GAUCHE : GRAPHIQUES -->
    <aside class="col-12 col-lg-2 mb-3">
      <div class="mb-3 text-center border rounded py-4">
        graph statut
      </div>
      <div class="mb-3 text-center border rounded py-4">
        graph motivation
      </div>
      <div class="mb-3 text-center border rounded py-4">
        graph popularité
      </div>
    </aside>

    <!-- COLONNE CENTRALE : LISTE DES HÉROS (toutes agences) -->
    <section class="col-12 col-lg-6 mb-3">
      <h1 class="text-center mb-4">
        Listes des héros (toutes agences confondues)
      </h1>

      <div *ngFor="let heros of (heros$ | async); trackBy: trackHeros"
           class="d-flex align-items-center mb-3 border rounded p-3">
        <div class="me-3 d-flex align-items-center justify-content-center border rounded"
             style="width: 80px; height: 80px;">
          Images A ajouter
        </div>

        <div>
          <div>
            <strong>{{ heros.alias }}</strong>
            <span class="text-muted">#{{ heros.id }}</span>
          </div>
          <div>
            {{ heros.prenom }} {{ heros.nom }}
          </div>
          <div>
            Popularité : {{ heros.popularite }}
            | Santé : {{ heros.sante }}
            | Salaire : {{ heros.salaire }}
          </div>
          <div>
            Agence : {{ heros.agenceId || 'null' }}
          </div>
        </div>
      </div>
    </section>

    <!-- COLONNE DROITE : bouton + formulaire admin -->
    <aside class="col-12 col-lg-4 mb-3">
      <button class="btn btn-primary w-100 mb-3"
              (click)="afficherFormulaireCreation()">
        Créer un super-héros
      </button>

      <form *ngIf="showForm"
            [formGroup]="herosForm"
            (ngSubmit)="creerOuModifier()"
            class="border rounded p-3">

        <h2 class="h5 mb-3">
          {{ editingHeros ? 'Modifier un héros' : 'Créer un super-héros' }} <!-- Si editingHeros n’est pas null → on est en mode édition, on affiche “Modifier un héros”.

Sinon → on est en mode création, on affiche “Créer un super-héros”.-->
        </h2>

        <!-- Nom -->
        <div class="mb-2">
          <label for="nom" class="form-label">Nom</label>
          <input id="nom" type="text" class="form-control" [formControl]="nomCtrl">
        </div>

        <!-- Prénom -->
        <div class="mb-2">
          <label for="prenom" class="form-label">Prénom</label>
          <input id="prenom" type="text" class="form-control" [formControl]="prenomCtrl">
        </div>

        <!-- Alias -->
        <div class="mb-2">
          <label for="alias" class="form-label">Alias</label>
          <input id="alias" type="text" class="form-control" [formControl]="aliasCtrl">
        </div>

        <!-- Popularité / Santé -->
        <div class="row mb-2">
          <div class="col-6">
            <label for="popularite" class="form-label">Popularité</label>
            <input id="popularite" type="number" class="form-control" [formControl]="populariteCtrl">
          </div>
          <div class="col-6">
            <label for="sante" class="form-label">Santé</label>
            <input id="sante" type="number" class="form-control" [formControl]="santeCtrl">
          </div>
        </div>

      